<mat-card>
  <mat-card-header>
    <mat-card-title>
      <div class="heading">
        <span>Inbox</span>
        <button mat-icon-button (click)="reload()">
          <mat-icon>refresh</mat-icon>
        </button>
      </div>
    </mat-card-title>
  </mat-card-header>
  <mat-card-content>
    <mat-progress-bar *ngIf="loading" mode="indeterminate"></mat-progress-bar>
    <mat-action-list role="list" *ngIf="!loading && messages.length">
      <button
        mat-list-item
        role="listitem"
        *ngFor="let m of messages"
        (click)="openMessage(m)"
      >
        <mat-icon matListIcon>email</mat-icon>
        <h4 matLine>{{ m.sender }}</h4>
        <p matLine>
          <span>{{ m.subject }} : {{ m.date | date }}</span>
        </p>
      </button>
    </mat-action-list>
    <mat-hint *ngIf="!loading && messages.length === 0">No messages</mat-hint>
  </mat-card-content>
</mat-card>
